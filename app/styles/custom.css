:root {
    --primary-color: #7C3AED;       /* tom mais vibrante e moderno */
    --secondary-color: #16A34A;     /* verde ajustado */
    --background-color: #171C28;    /* tom intermediário */
    --surface-color: #232B3E;       /* contraste menor */
    --on-surface-color: #E5E7EB;
    --muted-color: #8B98B9;
    --border-radius: 14px;
    --elevation: 0 2px 10px rgba(0,0,0,0.10);
}

/* Fundo geral */
.stApp {
    background: linear-gradient(135deg, #171C28 60%, #24294d 100%);
}

/* Títulos */
h1, h2, h3, h4 {
    color: var(--primary-color) !important;
    letter-spacing: 0.5px;
}
h1 {
    font-size: 2.6rem !important;
    font-weight: 900 !important;
    margin-bottom: 2.2rem !important;
}
h2, h3, h4 {
    margin-top: 2rem !important;
    margin-bottom: 1.3rem !important;
}

/* Textos comuns */
p, li, label {
    color: var(--on-surface-color) !important;
    font-size: 1rem;
    line-height: 1.7;
}

/* Cards do Dashboard */
.dashboard-card {
    display: flex;
    flex-direction: column;
    gap: 6px;
    background: var(--surface-color);
    border-radius: var(--border-radius);
    box-shadow: var(--elevation);
    margin-bottom: 26px;
    border: none;
    padding: 24px 20px 20px 20px;
    transition: box-shadow 0.2s, transform 0.2s;
}
.dashboard-card:hover {
    box-shadow: 0 4px 32px rgba(124,58,237,0.12);
    transform: translateY(-2px) scale(1.015);
}
.card-title {
    font-size: 15px;
    text-transform: uppercase;
    color: var(--muted-color);
    margin-bottom: 2px;
}
.card-value {
    font-size: 2.4rem;
    font-weight: 700;
    color: white;
}
.card-subtitle {
    font-size: 14px;
    color: var(--muted-color);
}

/* Cards coloridos minimalistas */
.card-purple { border-left: 5px solid var(--primary-color); }
.card-green { border-left: 5px solid var(--secondary-color); }
.card-blue { border-left: 5px solid #3B82F6; }
.card-yellow { border-left: 5px solid #F59E0B; }
.card-red { border-left: 5px solid #EF4444; }

/* Containers, mapas, visualizações */
.map-container,
.route-summary,
.info-box {
    background: var(--surface-color) !important;
    border-radius: var(--border-radius);
    box-shadow: var(--elevation);
    padding: 24px 18px;
    margin-bottom: 26px;
    border: none;
}
.route-summary {
    border-left: 5px solid var(--primary-color);
}
.info-box.primary { border-left: 5px solid var(--primary-color); }
.info-box.success { border-left: 5px solid var(--secondary-color); }
.info-box.warning { border-left: 5px solid #F59E0B; }
.info-box.danger { border-left: 5px solid #EF4444; }

/* Badge mais clean */
.route-badge, .badge-primary, .badge-success, .badge-warning {
    background: var(--surface-color) !important;
    color: var(--primary-color) !important;
    border-radius: 999px;
    padding: 3px 14px;
    font-size: 0.95rem;
    font-weight: bold;
    margin: 2px 0;
    border: 1.5px solid var(--primary-color);
}
.badge-success { color: var(--secondary-color) !important; border-color: var(--secondary-color); }
.badge-warning { color: #F59E0B !important; border-color: #F59E0B; }

/* Tabelas/DataFrames */
[data-testid="stDataFrame"] table {
    border-radius: var(--border-radius);
    background: var(--surface-color) !important;
    font-size: 1.07rem;
}
[data-testid="stDataFrame"] th {
    background: var(--primary-color) !important;
    color: white !important;
    font-weight: 600 !important;
    border-bottom: 2px solid var(--surface-color) !important;
}
[data-testid="stDataFrame"] td {
    background: transparent !important;
    color: #F3F4F6 !important;
    border-bottom: 1px solid #232B3E !important;
}

/* Inputs */
.stSelectbox, .stSlider, .stNumberInput {
    background: var(--surface-color);
    border-radius: 8px;
    padding: 9px 18px;
    margin-bottom: 14px;
    color: var(--on-surface-color) !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.03);
}

/* Botão */
.stButton button {
    border-radius: 8px;
    padding: 0.65rem 2rem;
    background: linear-gradient(90deg, var(--primary-color), #7C44C2);
    color: white;
    font-weight: 700;
    border: none;
    box-shadow: 0 2px 12px rgba(124,58,237,0.13);
    transition: background 0.2s, transform 0.13s;
}
.stButton button:hover {
    background: linear-gradient(90deg, #7C44C2, var(--primary-color));
    transform: scale(1.03);
}

/* Tabs */
.stTabs [data-baseweb="tab-list"] {
    background: var(--surface-color);
    border-radius: var(--border-radius);
    padding: 5px 5px;
    gap: 2px;
}
.stTabs [data-baseweb="tab"] {
    border-radius: 7px;
    padding: 8px 18px;
    color: var(--muted-color);
    font-size: 1.07rem;
}
.stTabs [aria-selected="true"] {
    background: var(--primary-color) !important;
    color: white !important;
    font-weight: 600;
    box-shadow: 0 2px 12px rgba(124,58,237,0.13);
}

/* Progress Bar */
.progress-bar-container {
    width: 100%;
    height: 9px;
    background: #2D354D;
    border-radius: 7px;
    margin-bottom: 18px;
}
.progress-bar {
    height: 100%;
    background: var(--primary-color);
    border-radius: 7px;
    transition: width 0.3s;
}
.progress-label {
    font-size: 0.95rem;
    color: var(--muted-color);
    margin-bottom: 15px;
}

/* Accordion */
[data-testid="stExpander"], .stExpander [data-testid="stExpander"] {
    background: var(--surface-color) !important;
    border-radius: var(--border-radius) !important;
    margin-top: 16px;
    box-shadow: var(--elevation);
}
[data-testid="stExpander"] > div:first-child {
    background: var(--primary-color) !important;
    color: white;
    border-radius: var(--border-radius) var(--border-radius) 0 0 !important;
    padding: 12px 16px !important;
}
[data-testid="stExpander"] > div:nth-child(2) {
    background: var(--surface-color) !important;
    padding: 16px !important;
}

/* Código */
.stCode {
    background: #161B25 !important;
    border-radius: 10px;
    padding: 17px !important;
    color: #eee !important;
    font-size: 0.97rem !important;
}

/* Gráficos e visualizações */
[data-testid="stDecoration"] {
    background: var(--surface-color) !important;
    border-radius: var(--border-radius) !important;
    padding: 21px !important;
}

/* Animação mais suave */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px);}
    to { opacity: 1; transform: translateY(0);}
}
[data-testid="stVerticalBlock"] > div:nth-child(1),
.stExpander [data-testid="stExpander"] {
    animation: fadeIn 0.24s ease-out;
}